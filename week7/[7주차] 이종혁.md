## Spring Annotaion

### 정의
- 어노테이션(annotation)은 사전적으로 ‘주석’ 또는 ‘설명’을 의미한다.
- 서는 코드 안에 특정한 기능을 수행하도록 지시하는 표식(@) 으로 사용된다.
- 스프링에서는 이러한 어노테이션을 통해 설정, 객체 등록, 의존성 주입, 요청 처리 등을 간단히 표현할 수 있다.
- 결과적으로 개발자는 별도의 설정 파일 없이, 코드 안에서 직접 스프링이 수행해야 할 역할을 명확히 표시할 수 있다.

### 등장배경
- 과거 스프링은 XML 설정 파일을 통해 객체(빈)를 등록하고 관계를 지정하였다.
- 하지만 XML 방식은 파일이 복잡하고 길어지며, 오타나 경로 오류가 잦고, 코드와 설정이 분리되어 이해하기 어렵다는 문제를 가졌다.
- 이러한 불편함을 해결하기 위해 스프링 2.5 버전부터 어노테이션 기반 설정 방식이 도입되었다.
- 이후 스프링 3.x에서는 자바 코드 기반 설정(Java Config) 으로 발전하면서 XML 의존도가 크게 줄어들었다.

### 스프링 어노테이션의 장점
1. 설정이 단순화된다.
    - XML 파일을 작성하지 않고 코드 안에서 직접 설정을 정의할 수 있기 때문에, 복잡한 설정 파일을 따로 관리할 필요가 없다.


2. 코드의 가독성이 향상된다.
    - 클래스 위에 @Service, @Controller 등 역할을 명시할 수 있어, 해당 클래스가 어떤 기능을 수행하는지 한눈에 파악할 수 있다.

3. 유지보수가 용이하다. 
   - 코드 내부의 어노테이션만 수정하면 바로 설정이 반영되므로, 별도의 XML 파일을 수정할 필요가 없어 관리가 편리하다.

4. 재사용성이 높다. 
   - 공통적인 기능(예: AOP, 트랜잭션 관리)을 여러 클래스에 간단히 적용할 수 있어 코드의 중복을 줄일 수 있다.

5. 안정성이 향상된다. 
   - 어노테이션은 컴파일 시점에 오류를 감지할 수 있어, 문자열 기반 설정인 XML보다 에러 발생 가능성이 낮다.

6. 개발 생산성이 높아진다.
   - 스프링이 자동으로 객체를 등록하고 주입해 주기 때문에, 개발자가 반복적인 설정 작업에 시간을 낭비하지 않아도 된다.

### 대표 어노테이션 예시

- @Configuration은 설정을 담당하는 클래스를 표시해주는 어노테이션이다. 예를 들어 AppConfig 클래스에 붙여서 스프링이 설정 정보를 읽을 수 있게 한다.
- @Bean은 @Configuration 클래스 안에서 사용하며, 메서드가 반환하는 객체를 스프링이 관리하도록 등록할 때 사용한다.
- @Component는 Class를 Bean으로 등록하기 위한 어노테이션이다.
- @Controller는 MVC의 Controller로 사용되는, 클래스 선언을 단순화 시켜주는 어노테이션이다.
- @Service는 비즈니스 로직을 수행하는 Class라는 것을 나타내는 용도이며, 코드의 역할을 명확히 구분해준다.
- @Repository는 DAO class에서 쓰이는 어노테이션으로 DB에 접근하는 method를 가지고 있는 Class에서 쓰인다.
- @Autowired는 스프링이 필요한 객체를 자동으로 연결해주는 의존성 주입 어노테이션이다.
- @RequestMapping은 웹 요청(URL 주소)을 특정 메서드와 연결해주는 어노테이션이다.

## Spring Container
### 정의
- 스프링 컨테이너(Spring Container) 는 스프링에서 객체(Bean)를 생성하고 관리하는 핵심 구조이다.
- 컨테이너는 설정 정보를 읽고, 필요한 객체를 자동으로 생성하여 프로그램에서 사용할 수 있도록 준비한다.
- 개발자가 직접 객체를 만들지 않아도 컨테이너가 대신 관리해 주기 때문에, 코드가 단순해지고 유지보수가 쉬워진다.
- 쉽게 말해, 스프링 컨테이너는 객체를 대신 관리해주는 “객체 관리자” 역할을 한다.

### 등장배경
과거에는 개발자가 직접 new 키워드를 사용해 객체를 만들고, 필요한 객체를 코드에서 직접 연결했다.
하지만 이 방식은 객체가 많아질수록 코드가 복잡해지고, 수정 시 여러 부분을 함께 바꿔야 하는 문제가 있었다.
이러한 문제를 해결하기 위해 스프링은 컨테이너를 도입하여 객체를 대신 생성하고 관리하도록 했다.
그 결과, 객체 간의 의존 관계를 컨테이너가 자동으로 연결해주어 프로그램의 구조가 훨씬 단순해졌다.

### 스프링 컨테이너의 역할
1. 객체(Bean) 생성
   - 설정 정보(@Configuration, @Component 등)를 참고해 필요한 객체를 자동으로 만든다.
2. 의존성 주입 
   - @Autowired 등을 통해 객체 간의 관계를 자동으로 주입해준다.
3. 객체의 생명주기 관리
   - Bean이 생성되고 소멸될 때까지의 과정을 스프링이 직접 관리한다.
4. 객체 재사용
   - 한 번 생성된 Bean을 여러 곳에서 공통으로 사용할 수 있게 한다.

### Bean의 개념
- Bean은 스프링 컨테이너가 관리하는 객체를 뜻한다.
- 일반적인 자바 객체와 같지만, 스프링이 대신 생성하고 주입하며 생명주기를 관리한다는 점이 다르다.
- @Component, @Service, @Repository, @Controller 등이 붙은 클래스는 자동으로 Bean으로 등록된다.
- 즉, 개발자가 만든 객체를 스프링이 대신 관리하도록 표시하는 것이다.

### 스프링 컨테이너의 종류
- BeanFactory
    - 스프링의 가장 기본적인 컨테이너로, Bean을 생성하고 관리하는 기능만 담당한다.
    - 필요할 때 Bean을 생성하는 지연 로딩(Lazy Loading) 방식을 사용한다.
- ApplicationContext 
  - BeanFactory를 확장한 형태로, 실제 스프링에서 주로 사용하는 컨테이너이다. 
  - Bean 관리 외에도 환경 설정, 이벤트 처리, 메시지 관리 등의 기능을 포함한다. 
  - 프로그램 시작 시 Bean을 미리 생성해두는 즉시 로딩(Eager Loading) 방식을 사용한다.
  
### 정리
스프링 컨테이너는 스프링의 핵심으로, 프로그램에서 사용되는 객체들을 대신 생성하고 관리해주는 역할을 한다.
개발자는 직접 객체를 만들지 않아도 되며, 컨테이너가 필요한 객체를 자동으로 생성하고 의존 관계를 연결해준다.
이를 통해 코드가 단순해지고 유지보수가 쉬워지며, 객체 재사용이 가능해 효율적인 프로그램 구성이 가능하다.
실제 개발에서는 ApplicationContext가 주로 사용된다.